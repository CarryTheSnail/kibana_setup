![image](https://github.com/user-attachments/assets/b4466603-7b93-4e37-96cf-669b9964f49f)


<h1>Kibana Setup</h1>
This tutorial demonstrated the installation of kibana<br />


<h2>Environments and Technologies Used</h2>

- VULTR Cloud Computing
- Ubuntu 22.04 x64
- Powershell <br />
- Kibana

<h3>Install Kibana</h3>
Copy the download link from elastic.co website. (select DEBx86-64)

![Screenshot 2024-10-30 181730](https://github.com/user-attachments/assets/7233fc7e-d349-44eb-a83a-bc531771c6ea)

Download the kibana file using wget command and pasting the download link. 

![Screenshot 2024-10-30 181726](https://github.com/user-attachments/assets/7c35f4c3-3396-454a-abe2-cb5bf34fefa6)

Install the kibana file using dpkg -i

![Screenshot 2024-10-30 181806](https://github.com/user-attachments/assets/f69337bb-bea5-49b9-a303-9559fded2394)


<h3>Configuration File</h3>

use nano to edit the configuration file /etc/kibana/kibana.yml
enable the server.port 5601
configure the server.host using your IP Addresss

![Screenshot 2024-10-30 182313](https://github.com/user-attachments/assets/db9b5e65-37e6-47d5-b823-c4bf34f53bdf)



<h3>Enable kibana.service</h3>

use the following commands:

- systemctl daemon-reload
- systemctl enable kibana.service
- systemctl start kibana.service
- systemctl status kibana.service

![Screenshot 2024-10-30 182407](https://github.com/user-attachments/assets/7432bbf0-564d-496c-9fdf-7b208e59e7c2)





<h3>Generate Elasticsearch Enrollment Token for Kibana</h3>

cd to /usr/share/elasticsearch/bin and invoke the elasticsearch-create-enrollment-token binary file. 

![Screenshot 2024-10-30 182638](https://github.com/user-attachments/assets/6ca5ee5a-06f4-4e09-b60e-51be845879fd)

save the generated token on notepad for later use

![Screenshot 2024-10-30 182726](https://github.com/user-attachments/assets/812b8033-46b1-4ffe-8d65-257f8ba35cae)

<h3>Firewall Configuration</h3>

We need to configure the firewall rules to allow port 5601 to use Kibana.

Create a new rule allowing TCP connection from port 1-65535 from My IP

![Screenshot 2024-10-30 183223](https://github.com/user-attachments/assets/5de5c2ce-c921-45e7-b08a-23b6922a227d)

Configure the firewall on linux vm itself using "ufw allow 5601" command

![Screenshot 2024-10-30 183350](https://github.com/user-attachments/assets/6ee79c5c-df8b-4775-8608-4f36739556ff)

<h3>Setup Kibana</h3>

use http://(your ip):5601 to access kibana 
when prompted with enrollment token, enter the Elasticsearch Enrollment Token saved earlier.

![Screenshot 2024-10-30 183449](https://github.com/user-attachments/assets/a105e010-af95-4ad8-8104-abc7e3e132e9)

When prompted for verification code, run the given command and get the verificaion code
![Screenshot 2024-10-30 183511](https://github.com/user-attachments/assets/7745c134-757b-4d19-ac18-3931fe75e8ce)

![Screenshot 2024-10-30 183612](https://github.com/user-attachments/assets/515aa4ef-b41b-45eb-9da5-3e55380b4bca)

You can find the default username (elastic) and the autogenerated password in the Security Autoconfiguration Information from setting up Elasticsearch. 

![Screenshot 2024-10-30 183824](https://github.com/user-attachments/assets/d4754fce-b7f5-42d2-877c-36fec0995dc5)

<h3>API Integration Key</h3>

Lastly, you will need to configure API Integration Keys
![image](https://github.com/user-attachments/assets/6901da94-c670-4fa0-88b2-498705b89d3e)

Generate the encryption keys using the command "generate" with the kibana-encryption-keys file. 
copy the 3 sets of encryption keys to a notepad

![image](https://github.com/user-attachments/assets/ff2f86c5-4f9c-4545-a0b2-7cf41fd583c2)

Now, use the add command with kibana-keystore binary file to add in the 3 keys one by one. 

![Screenshot 2024-10-30 184204](https://github.com/user-attachments/assets/cf92c40f-703d-4c96-9626-91ea61828470)

Copy and paste in the key(the first part), then when prompted to enter the key value, copy and paste in the key value(the second part). 

![Screenshot 2024-10-30 184219](https://github.com/user-attachments/assets/ee7941f9-018e-44ed-bcb8-0e306a31e274)

![Screenshot 2024-10-30 184251](https://github.com/user-attachments/assets/807ee45e-4902-4902-939e-9c1a6f9bfb24)

Repeat this step for all 3 keys

![Screenshot 2024-10-30 184418](https://github.com/user-attachments/assets/940f5230-31e2-4630-b244-b688a422fb4c)


<h3>Restart kibana.service to finish the installation process</h3>

systemctl restart kibana.service

![Screenshot 2024-10-30 184443](https://github.com/user-attachments/assets/b412552a-28b9-4d3b-9f78-565a0c06d11f)




